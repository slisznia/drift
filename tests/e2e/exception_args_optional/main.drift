import std.console.out;

exception OptErr(a: String, b: String)

fn raise_opt() -> Void {
    throw OptErr(a = "alpha", b = "beta")
}

fn main() -> Int {
    try {
        raise_opt()
    } catch OptErr(e) {
        val dv = e.attrs["a"]
        val opt_a = dv.as_string()
        if opt_a.is_some() {
            out.writeln("SOME")
        } else {
            out.writeln("NONE")
        }
        return 0
    }
    out.writeln("no error")
    return 1
}
