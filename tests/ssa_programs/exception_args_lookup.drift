exception MyError(a: String, b: String)

fn make_error() returns Void {
  throw MyError(a = "A", b = "B")
}

fn main() returns Int {
  var sum: Int = 0
  try {
    make_error()
  } catch MyError(e) {
    val a_val: String = e.attrs["a"].as_string().unwrap_or("<missing>")
    val b_val: String = e.attrs["b"].as_string().unwrap_or("<missing>")
    // Optional path via missing key.
    val missing = e.attrs["zzz"].as_string()
    val _ = missing.unwrap_or("<none>")
    sum = 0
  }
  return sum
}
