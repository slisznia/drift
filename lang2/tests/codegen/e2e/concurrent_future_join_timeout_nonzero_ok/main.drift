module main

import std.concurrent as conc;
import lang.thread as thread;

fn main() nothrow -> Int {
	var f = conc.spawn_future(| | => { thread.vt_park_until(10); return 7; });
	var res = f.join_timeout(conc.Duration(millis = 200));
	match res {
		Ok(v) => {
			if v == 7 {
				return 0;
			}
			return 1;
		},
		Err(_e) => { return 2; },
		default => { return 2; },
	}
}
