module main

import std.err;

fn main() nothrow -> Int {
	val xs = [1, 2, 3];
	try {
		val _ = xs[3];
		return 10;
	} catch std.err:IndexError(e) {
		val dv_c = e.attrs["container_id"];
		val dv_i = e.attrs["index"];
		val c = dv_c.as_string();
		val i = dv_i.as_int();
		match c {
			Some(s) => {
				if s != "std.containers:Array" {
					return 20;
				}
			},
			None => {
				return 21;
			},
		}
		match i {
			Some(v) => {
				if v != 3 {
					return 22;
				}
			},
			None => {
				return 23;
			},
		}
		return 0;
	}
}
