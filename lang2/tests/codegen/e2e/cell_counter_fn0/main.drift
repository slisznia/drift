module main

import std.core as core;

fn main() nothrow -> Int {
	var count = core.cell(0);
	var count2 = 0;
	(| | captures(count) => {
		count.set(count.get() + 1);
		return 0;
	})();
	(| | captures(count) => {
		count.set(count.get() + 1);
		return 0;
	})();
	(| | captures(&mut count2) => {
		count2 = count2 + 1;
		return 0;
	})();
	(| | captures(&mut count2) => {
		count2 = count2 + 1;
		return 0;
	})();
	return count.get() + count2;
}
