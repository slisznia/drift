module main

fn main() nothrow -> Int {
	var xs: Array<Array<Int>> = [];
	var a0: Array<Int> = [];
	a0.push(1);
	var a1: Array<Int> = [];
	a1.push(2);
	xs.push(move a0);
	xs.push(move a1);
	val popped = xs.pop();
	val out = match popped {
		Some(v) => { (v[0] == 2) ? 0 : 1 },
		None => { 2 },
	};
	if out != 0 {
		return out;
	}
	var a2: Array<Int> = [];
	a2.push(3);
	xs.push(move a2);
	val popped2 = xs.pop();
	val out2 = match popped2 {
		Some(v) => { (v[0] == 3) ? 0 : 3 },
		None => { 4 },
	};
	if out2 != 0 {
		return out2;
	}
	val popped3 = xs.pop();
	val out3 = match popped3 {
		Some(v) => { (v[0] == 1) ? 0 : 5 },
		None => { 6 },
	};
	return out3;
}
