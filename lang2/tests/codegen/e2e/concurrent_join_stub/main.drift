module main

import std.concurrent as conc;
import std.core as core;

fn main() nothrow -> Int {
	var t = conc.spawn(| | => { return 1; });
	var res = t.join();
	return match res {
		Err(err) => {
			match err {
				Failed(_e) => { 2 },
				Busy => { 1 },
				Cancelled => { 1 },
				Closed => { 1 },
				Timeout => { 1 },
				default => { 1 },
			}
		},
		Ok(v) => { v },
		default => { 1 },
	};
}
