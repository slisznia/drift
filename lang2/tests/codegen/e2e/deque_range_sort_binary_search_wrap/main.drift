module main

import std.algo as algo;
import std.containers as containers;

fn main() nothrow -> Int {
var dq = containers.deque<type Int>();
	dq.push_back(4);
	dq.push_back(5);
	dq.push_back(6);
	val _p1 = dq.pop_front();
	val _p2 = dq.pop_front();
	dq.push_back(3);
	dq.push_back(2);
	dq.push_back(1);
	var rm = dq.range_mut();
	algo.sort_in_place(&mut rm);
	var r = dq.range();
	val idx = algo.binary_search(&r, &5);
	val out = match idx {
		Some(i) => {
			val got = try { *dq.at(i) } catch std.err:IndexError(_) { -1 } catch { -1 };
			(got == 5) ? 0 : 1
		},
		None => {
			2
		},
	};
	return out;
}
