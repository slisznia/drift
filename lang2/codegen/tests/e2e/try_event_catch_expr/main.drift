module m

exception MyErr(msg: String)
exception Other()

fn foo(flag: Int) returns Int {
	if flag == 1 {
		throw MyErr { msg = "one" };
	}
	throw Other {};
}

fn main() returns Int {
	val x: Int = try foo(1) catch m:MyErr(e) { 10 } catch { 20 };
	val y: Int = try foo(2) catch m:MyErr(e) { 10 } catch { 20 };
	return x + y;
}
