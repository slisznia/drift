module main

import std.containers as containers;
import std.iter as iter;

fn next_once<I>(it: &mut I) -> Int require I is iter.SinglePassIterator<containers.HashMapItemRef<Int, Int> > {
	val out: Optional<containers.HashMapItemRef<Int, Int> > = iter.SinglePassIterator::next(it);
	return match out {
		None => { 0 },
		Some(_v) => { 1 }
	};
}

fn run() -> Int {
	var m = containers.hash_map_new<type Int, Int>();
	var it = m.iter();
	return next_once(&mut it);
}

fn main() nothrow -> Int {
	return try run() catch { 99 };
}
