module main

exception Boom()

fn pick(f: fn(Int) nothrow returns Int) nothrow returns Int {
	return 1;
}

fn pick(f: fn(Int) returns Int) nothrow returns Int {
	return 2;
}

fn add1(x: Int) nothrow returns Int {
	return x + 1;
}

fn boom(x: Int) returns Int {
	throw Boom();
}

fn main() nothrow returns Int {
	val a = pick(cast<fn(Int) nothrow returns Int>(add1));
	val b = pick(cast<fn(Int) returns Int>(boom));
	return a + b;
}
