module main

exception Boom()

fn maybe_boom(x: Int) returns Int {
	if x == 2 {
		throw Boom();
	}
	return x;
}

fn main() returns Int  nothrow{
	val xs = [1, 2, 3];
	var sum: Int = 0;

	for x in xs {
		val v: Int = try maybe_boom(x) catch { 100 };
		sum = sum + v;
	}

	return sum;
}
