module main

import std.containers as containers;

fn run() -> Int {
	var m = containers.hash_map_new<type Int, Int>();
	m.insert(1, 5);
	val k: Int = 1;
	val r1: Int = match m.remove(&k) {
		None => { -1 },
		Some(v) => { v }
	};
	if r1 != 5 {
		return 1;
	}
	val r2: Int = match m.remove(&k) {
		None => { 0 },
		Some(_v) => { 1 }
	};
	if r2 != 0 {
		return 2;
	}
	return 0;
}

fn main() nothrow -> Int {
	return try run() catch { 99 };
}
