module m

struct Point(x: Int, y: Int)

implement Point {
	fn move_by(self: &mut Point, dx: Int, dy: Int) returns Void {
		// Implicit `self` member lookup (spec ยง3.9):
		// `x` and `y` resolve to `self->x` / `self->y` because they are not local
		// bindings and are known fields of the receiver type.
		x += dx
		y += dy
	}
}

fn main() returns Int  nothrow{
	var p: Point = Point(1, 2)
	p.move_by(10, 20)
	return p.x + p.y
}
