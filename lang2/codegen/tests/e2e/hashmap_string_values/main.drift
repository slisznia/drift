module main

import std.containers as containers;

fn run() -> Int {
	var m = containers.hash_map_new<type Int, String>();
	m.insert(1, "a");
	val old = m.insert(1, "b");
	val old_v: String = match old {
		None => { "" },
		Some(v) => { v }
	};
	if old_v == "a" {
	} else {
		return 1;
	}
	val k: Int = 1;
	val cur: String = match m.get(&k) {
		None => { "" },
		Some(p) => { *p }
	};
	if cur == "b" {
	} else {
		return 2;
	}
	return 0;
}

fn main() nothrow -> Int {
	return try run() catch { 99 };
}
